package com.market.pos.tool.findTreasure;import com.market.pos.tool.Equip.EquipService;import com.market.pos.tool.common.BackpackEvent;public class BackpackController {    public static String ask;    public static void backpackController(String qqid, String groupid) {        //判定是否为新用户        BackpackService.searchBackPack(qqid,groupid);        String resultUserId = BackpackService.resultUserId;        if (resultUserId == null) {            BackpackService.insertBackPack(qqid, groupid);            //运行随机事件            BackpackEvent.backpackEvent(qqid,groupid);            String data_type = BackpackEvent.data_type;            String data = BackpackEvent.data;            System.out.println(data_type + data);            //答复装配           ask = BackpackEvent.ask;            //数据库操作            if (!data_type.equals("nothing")) {                BackpackService.updateBackPack(qqid, data_type, data,groupid);            }        }        if (resultUserId != null) {            //运行随机事件            BackpackEvent.backpackEvent(qqid, groupid);            String data_type = BackpackEvent.data_type;            String data = BackpackEvent.data;            //答复装配            ask = BackpackEvent.ask;            //数据库操作            if (data_type.equals("money")) {                BackpackService.searchBackPack(qqid,groupid);                String money_defult = BackpackService.money;                if (money_defult == null) {                    BackpackService.updateBackPack(qqid, data_type, data,groupid);                } else {                    Integer moneyAdd = Integer.parseInt(data) + Integer.parseInt(money_defult);                    String money = moneyAdd.toString();                    BackpackService.updateBackPack(qqid, data_type, money,groupid);                }            } else if (data_type.equals("equipment")) {                BackpackService.searchBackPack(qqid,groupid);                String euipment_default = BackpackService.equipment;                if (euipment_default == null) {                    BackpackService.updateBackPack(qqid, data_type, data,groupid);                } else {                    String equipment = euipment_default + "," + data;                    BackpackService.updateBackPack(qqid, data_type, equipment,groupid);                }            } else if (data_type.equals("book")) {                BackpackService.searchBackPack(qqid,groupid);                String book_default = BackpackService.book;                if (book_default == null) {                    BackpackService.updateBackPack(qqid, data_type, data,groupid);                } else {                    String book = book_default + "," + data;                    BackpackService.updateBackPack(qqid, data_type, book,groupid);                }            } else if (data_type.equals("special")) {                BackpackService.searchBackPack(qqid,groupid);                String special_default = BackpackService.special;                if (special_default == null) {                    BackpackService.updateBackPack(qqid, data_type, data,groupid);                } else {                    String special = special_default + "," + data;                    BackpackService.updateBackPack(qqid, data_type, special,groupid);                }            }        }    }}