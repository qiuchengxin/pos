<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>我的宏</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../static/layui/css/layui.css"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 5%;" >
    <legend align="center" th:text="${type}"></legend>
</fieldset>
<pre class="layui-code" th:text="${hong}" style="margin: 30px 30px 10px 30px" contenteditable="true" id="hong">
</pre>
<div style="width: auto;margin: 10px 30px 30px 30px">
    <button class="layui-btn layui-btn-fluid" lay-submit onclick="update()">保存宏命令</button>
</div>
<script src="../static/layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="../static/js/jQuery1.11.3.min.js"></script>
<script src="../static/js/myJs.js"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use('code', function(){

        //layui.code(); 实际使用时，执行该方法即可。而此处注释是因为修饰器在别的js中已经执行过了
    });
</script>
<script th:inline="javascript">
    function update() {
        layui.use('layer', function(){
            var layer = layui.layer;

            layer.msg('修改成功');
        });
        var data = document.getElementById("hong").innerText;
        var type = [[${type}]]
        var con = {};
        con["content"] = data;
        con["type"] = type;
        console.log(con);
        myajax(con, "/team/updateHong");
    }
</script>

</body>
</html>